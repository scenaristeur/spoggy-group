<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <!--  <base id="base" href="/">-->
  <link rel="manifest" href="manifest.json">
  <title>Spoggy Group</title>

  <link rel="icon" type="image/png" href="./img/icons/favicon.png" />

  <meta name="theme-color" content="#2A3443" />
  <meta name="description" content="Tutorial app." />

  <!-- iOS -->
  <link rel="apple-touch-icon" href="./img/icons/icon-144x144.png" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="mobile-web-app-status-bar-style" content="black" />
  <meta name="mobile-web-app-title" content="TutorialApp" />
  <!--  <script>
  alert(window.location.host)
  console.log(window.location.host)
  if (window.location.host != "localhost:9000"){
  document.getElementById('base').setAttribute('href', 'agora/')
  let base = document.getElementById('base').getAttribute('href')
  console.log(base)
}
</script>-->
<!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">-->
<link href="css/fontawesome/css/all.css" rel="stylesheet">
<script>
if (!window.customElements) {
  document.write('<!--');
}
</script>

<script src="./vendor/custom-elements-es5-adapter.js"></script>
<script src="./libs/eve.custom.js"></script>
<script src="./agents/hello-agent.js" type="module"></script>
<!-- Graph Vis -->
<link href="./css/vis-network.min.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="./libs/vis-network.min.js"></script>

<!--
<script src="https://cdn.jsdelivr.net/npm/rdflib@latest/dist/rdflib.min.js"></script>
<script src="./libs/rdf-easy.bundle.js"></script>-->

<!-- ! DO NOT REMOVE THIS COMMENT, WE NEED ITS CLOSING MARKER -->

<!-- SOlid-rest-->
<!--<script src="./libs/solid-rest/rest.js"></script> -->
<script src="./libs/solid-rest/localStorage.js"></script>
<script src="./libs/solid-rest/main.js"></script>
<!--<script src="./libs/solid-rest/file.js"></script>-->
<!--<script src="./libs/solid-rest/file.js"></script>-->


</head>

<body>

  <!--<nav>
  <a href="/">Todos</a>
  <a href="/stats">Stats</a>
</nav>-->
<main>


  <div id="results"></div>
  <script>
/*
  runStorage( "/test-folder/test-file.ttl","<> a <#test>." ).then( ()=>{
    runRest( "/test-folder/test-file.ttl","<> a <#test>." )
  })*/


  /* This runs using src/localStorage directly
  */
  async function runStorage(file,text){
    const storage = new SolidLocalStorage()
    let response = await storage.putResource( file,{body:text} )
    response = await storage.getResource( file )
    console.log(storage, response)
    //  show(await response)
  }

  /* This runs using src/localStorage via transpiled version of src/rest
  */
  async function runRest(file,text){
    file = "app://ls"+file
    const rest = new SolidRest([ new SolidLocalStorage() ])
    let response = await rest.fetch( file,{method:"PUT",body:text} )
    response = await rest.fetch( file )
    console.log(rest, response)
    //  show(response.status+","+await response.text())
  }
  /*
  function show(msg){
  let display = document.getElementById("results")
  display.innerHTML = display.innerHTML + `<p>BOO</p>`
}*/
</script>




<app-view>
  <div style="position:absolute; top:50%; left:50%; margin-top:-10px; margin-left: -170px; width:340px; height:128px; text-align:center">
    <br> <span style="font-size:20px">L O A D I N G <br><br> S P O G G Y <br> G R O U P</span>
  </div>
</app-view>
<!--  <todo-view></todo-view>-->
</main>

<footer>
  <a href="https://github.com/scenaristeur/spoggy-group/" target="_blank">Source</a>
</footer>

<script src="./vendor/webcomponents-loader.js"></script>
<script>
'use strict';

if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js').then(registration => {
    console.log('ServiceWorker registration successful with scope:',
    registration.scope);
  }).catch(err => {
    console.error('ServiceWorker registration failed:', err);
  });
}

</script>

<script src="./libs/solid-auth-client.bundle.js"></script>
<script src="./libs/solid-file-client.bundle.js"></script>
<script src="./libs/solid-query-ldflex.bundle.js"></script>


<!--<script src="views/store-element.js" type="module"></script>-->
</body>
</html>
